
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·∫£ng ƒêi·ªÅu Khi·ªÉn</title>
    <link rel="manifest" href="dashboard.json">
    <meta name="theme-color" content="#1976D2">
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #e3f2fd;
            margin: 0;
            /* ƒêI·ªÄU CH·ªàNH: TƒÉng padding d∆∞·ªõi l√™n 70px ƒë·ªÉ ch·ª´a ch·ªó cho n√∫t c·ªë ƒë·ªãnh */
            padding: 50px 10px 70px 10px; 
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            justify-content: space-between;
            box-sizing: border-box;
        }
        .logo-container {
            margin-bottom: 5px;
            padding: 5px 0;
            animation: fadeInDown 0.8s ease-out;
        }
        .logo {
            font-size: 48px;
            font-weight: 900;
            background: linear-gradient(135deg, #1976D2 0%, #42A5F5 50%, #66BB6A 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 4px 20px rgba(25, 118, 210, 0.3);
            letter-spacing: 3px;
            position: relative;
            display: inline-block;
            transition: transform 0.3s ease;
        }
        .logo:hover {
            transform: scale(1.05);
        }
        .logo::before {
            content: '‚ú®';
            position: absolute;
            left: -40px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 32px;
            animation: twinkle 2s ease-in-out infinite;
        }
        .logo::after {
            content: '‚ú®';
            position: absolute;
            right: -40px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 32px;
            animation: twinkle 2s ease-in-out infinite 0.5s;
        }
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        @keyframes twinkle {
            0%, 100% {
                opacity: 1;
                transform: translateY(-50%) scale(1);
            }
            50% {
                opacity: 0.5;
                transform: translateY(-50%) scale(0.8);
            }
        }
        @media (max-width: 600px) {
            .logo {
                font-size: 36px;
                letter-spacing: 2px;
            }
            .logo::before,
            .logo::after {
                font-size: 24px;
                left: -30px;
                right: -30px;
            }
        }
        h1 {
            color: #1976D2;
            margin-bottom: 40px;
        }
        .main-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            max-width: 800px;
            width: 100%;
            margin-bottom: 50px;
        }
        /* Thay ƒë·ªïi t·ª´ .app-link th√†nh class chung cho t·∫•t c·∫£ c√°c n√∫t ·ª©ng d·ª•ng (bao g·ªìm c·∫£ game) */
        .app-item { /* ƒê·ªïi t√™n class ƒë·ªÉ linh ho·∫°t h∆°n */
            text-decoration: none;
            color: white;
            padding: 30px 40px;
            border-radius: 12px;
            font-size: 20px;
            font-weight: bold;
            width: 250px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer; /* Th√™m con tr·ªè ƒë·ªÉ tr√¥ng gi·ªëng n√∫t */
        }
        .app-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        .voice-link {
            background: linear-gradient(45deg, #2196F3, #1976D2);
        }
        .game-link {
            background: linear-gradient(45deg, #4CAF50, #388E3C);
        }
        .movie-link {
            background: linear-gradient(45deg, #FF9800, #F57C00);
        }
        /* THAY ƒê·ªîI L·ªöN: C·ªê ƒê·ªäNH N√öT C√ÄI ƒê·∫∂T */
        .settings-area {
            width: 100%;
            text-align: center;
            /* C·ªê ƒê·ªäNH V·ªä TR√ç */
            position: fixed; 
            bottom: 0; 
            left: 0;
            z-index: 1000; /* ƒê·∫£m b·∫£o n√∫t n·∫±m tr√™n c√°c n·ªôi dung kh√°c */
            /* Th√™m n·ªÅn m·ªù nh·∫π */
            background: rgba(240, 248, 255, 0.95);
            padding: 10px 0; 
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1); /* T·∫°o hi·ªáu ·ª©ng n·ªïi */
            /* B·ªé: padding-bottom: 10px; v√† margin-top: auto; */
        }
        .settings-link {
            background: linear-gradient(45deg, #9C27B0, #7B1FA2);
            padding: 15px 30px;
            font-size: 16px;
            width: auto;
            display: inline-block;
            border-radius: 8px;
            color: white; /* Th√™m m√†u ch·ªØ ƒë·ªÉ ƒë·∫£m b·∫£o hi·ªÉn th·ªã */
            border: none; /* Th√™m ƒë·ªÉ ƒë·∫£m b·∫£o tr√¥ng gi·ªëng n√∫t */
            cursor: pointer;
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* Th√™m shadow cho n√∫t */
        }
        .settings-link:hover {
             transform: translateY(-2px);
             box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .visitor-counter {
            margin-top: 20px;
            padding: 15px 25px;
            background: linear-gradient(45deg, #00BCD4, #0097A7);
            border-radius: 10px;
            color: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            font-size: 16px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .visitor-counter .counter-number {
            font-size: 24px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    
    <div class="logo-container">
        <div class="logo">JABOZ</div>
    </div>
    
    <div style="width: 100%; display: flex; flex-direction: column; align-items: center;">
        <h1>Ch·ªçn ·ª®ng D·ª•ng</h1>
        <div class="main-container">
            
            <a href="tools/may-ho-tro-giong-noi/may-voice.html" class="app-item voice-link">
                üí¨ M√°y H·ªó Tr·ª£ Gi·ªçng N√≥i
            </a>
            
            <div id="gameLink" class="app-item game-link">
                üéÆ Ch∆°i Game              
            </div>
            
            <a href="cham_cong/cham_cong.html" class="app-item movie-link">
                üóìÔ∏è M√°y Ch·∫•m C√¥ng
            </a>
            
        </div>
        <div class="visitor-counter">
            <span>üë• L∆∞·ª£t truy c·∫≠p:</span>
            <span class="counter-number" id="visitorCount">0</span>
        </div>
    </div>

<div class="settings-area">
    <button class="btn install-btn large-control-btn settings-link" id="installButton">
    üì≤ Trang Ch·ªß
</button>
</div>

<script>
    // Chuy·ªÉn h∆∞·ªõng Game
    document.getElementById('gameLink').addEventListener('click', () => {
        window.location.href = 'https://gamesnacks.com/';
    });

    // Logic PWA
    let deferredPrompt = null;
    const installButton = document.getElementById('installButton');
    
    function isRunningStandalone() {
        return window.matchMedia('(display-mode: standalone)').matches;
    }
    
    function updateInstallButtonVisibility() {
        installButton.style.display = (!isRunningStandalone() && deferredPrompt) ? 'inline-block' : 'none';
    }
    
    function installApp() {
        if (deferredPrompt) {
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then(() => {
                deferredPrompt = null;
                updateInstallButtonVisibility();
            });
        }
    }
    
    window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        updateInstallButtonVisibility();
        if (installButton.style.display !== 'none') {
            installButton.addEventListener('click', installApp, { once: true });
        }
    });
    
    window.addEventListener('appinstalled', () => {
        deferredPrompt = null;
        updateInstallButtonVisibility();
    });
    
    updateInstallButtonVisibility();
    
    // B·ªô ƒë·∫øm l∆∞·ª£t truy c·∫≠p ·∫£o tƒÉng d·∫ßn theo th·ªùi gian
    (function() {
        const START_DATE_KEY = 'jaboz_start_date';
        const counterEl = document.getElementById('visitorCount');
        
        if (!counterEl) return;
        
        function calculateVisitorCount() {
            const now = new Date();
            const today = new Date(now);
            today.setHours(0, 0, 0, 0);
            
            let startDate = localStorage.getItem(START_DATE_KEY);
            if (!startDate) {
                // Ng√†y b·∫Øt ƒë·∫ßu: 30 ng√†y tr∆∞·ªõc (ƒë·ªÉ c√≥ s·ªë l∆∞·ª£t truy c·∫≠p ban ƒë·∫ßu)
                const initialDate = new Date(today);
                initialDate.setDate(initialDate.getDate() - 30);
                startDate = initialDate.toISOString();
                localStorage.setItem(START_DATE_KEY, startDate);
            }
            
            const start = new Date(startDate);
            const daysDiff = Math.floor((today - start) / (1000 * 60 * 60 * 24));
            
            // T√≠nh s·ªë l∆∞·ª£t truy c·∫≠p d·ª±a tr√™n s·ªë ng√†y
            const baseVisitors = 1200; // S·ªë l∆∞·ª£t c∆° b·∫£n ban ƒë·∫ßu
            const visitorsPerDay = 80; // Trung b√¨nh m·ªói ng√†y
            const randomSeed = daysDiff % 100; // Random d·ª±a tr√™n s·ªë ng√†y (·ªïn ƒë·ªãnh m·ªói ng√†y)
            
            // T√≠nh s·ªë l∆∞·ª£t truy c·∫≠p = s·ªë c∆° b·∫£n + (s·ªë ng√†y * l∆∞·ª£t m·ªói ng√†y) + random nh·∫π
            let count = baseVisitors + (daysDiff * visitorsPerDay) + (randomSeed * 0.8);
            
            // Th√™m ph·∫ßn tƒÉng theo gi·ªù v√† ph√∫t trong ng√†y (tƒÉng d·∫ßn trong ng√†y)
            const hours = now.getHours();
            const minutes = now.getMinutes();
            const hourFactor = hours * 2; // TƒÉng 0-46 l∆∞·ª£t theo gi·ªù
            const minuteFactor = Math.floor(minutes / 10); // TƒÉng theo 10 ph√∫t
            
            count += hourFactor + minuteFactor;
            
            return Math.floor(count);
        }
        
        function updateCounter() {
            const count = calculateVisitorCount();
            counterEl.textContent = count.toLocaleString('vi-VN');
        }
        
        // C·∫≠p nh·∫≠t ngay l·∫≠p t·ª©c
        updateCounter();
        
        // C·∫≠p nh·∫≠t m·ªói ph√∫t ƒë·ªÉ tƒÉng d·∫ßn
        setInterval(updateCounter, 60000); // 60000ms = 1 ph√∫t
    })();
</script>

</body>
</html>
