<!DOCTYPE html>
<html lang="vi">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Báº£ng Äiá»u Khiá»ƒn</title>
Â  Â  <link rel="manifest" href="dashboard.json">
Â  Â  <meta name="theme-color" content="#1976D2">
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Segoe UI', sans-serif;
Â  Â  Â  Â  Â  Â  background: #e3f2fd;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  /* Giá»¯ padding trÃªn cho ná»™i dung chÃ­nh, nhÆ°ng bá» padding dÆ°á»›i (sáº½ dÃ¹ng cho settings-area) */
Â  Â  Â  Â  Â  Â  padding: 50px 10px 0; 
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  justify-content: flex-start; /* Thay Ä‘á»•i Ä‘á»ƒ ná»™i dung chÃ­nh náº±m trÃªn, nÃºt fixed náº±m dÆ°á»›i */
Â  Â  Â  Â  Â  Â  box-sizing: border-box; 
Â  Â  Â  Â  Â  Â  /* Bá» overflow-y: hidden; Ä‘á»ƒ cho phÃ©p cuá»™n náº¿u ná»™i dung dÃ i */
Â  Â  Â  Â  }
Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  color: #1976D2;
Â  Â  Â  Â  Â  Â  margin-bottom: 40px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .main-container {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  /* TÄƒng margin-bottom Ä‘á»ƒ ná»™i dung chÃ­nh khÃ´ng bá»‹ nÃºt cá»‘ Ä‘á»‹nh che láº¥p */
Â  Â  Â  Â  Â  Â  margin-bottom: 100px; 
Â  Â  Â  Â  }
Â  Â  Â  Â  .app-link {
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 30px 40px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  font-size: 20px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  width: 250px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  Â  Â  transition: transform 0.2s, box-shadow 0.2s;
Â  Â  Â  Â  }
Â  Â  Â  Â  .app-link:hover {
Â  Â  Â  Â  Â  Â  transform: translateY(-5px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  }
Â  Â  Â  Â  .voice-link {
Â  Â  Â  Â  Â  Â  background: linear-gradient(45deg, #2196F3, #1976D2);
Â  Â  Â  Â  }
Â  Â  Â  Â  .game-link {
Â  Â  Â  Â  Â  Â  background: linear-gradient(45deg, #4CAF50, #388E3C);
Â  Â  Â  Â  }
Â  Â  Â  Â  .movie-link {
Â  Â  Â  Â  Â  Â  background: linear-gradient(45deg, #FF9800, #F57C00);
Â  Â  Â  Â  }
Â  Â  Â  Â  .settings-area {
Â  Â  Â  Â  Â  Â  /* Cá» Äá»ŠNH NÃšT á» DÆ¯á»šI ÄÃY TRANG */
Â  Â  Â  Â  Â  Â  position: fixed; 
Â  Â  Â  Â  Â  Â  bottom: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  right: 0;
Â  Â  Â  Â  Â  Â  z-index: 1000; /* Äáº£m báº£o nÃºt luÃ´n náº±m trÃªn cÃ¹ng */
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  background: #e3f2fd; /* ThÃªm ná»n Ä‘á»ƒ che ná»™i dung cuá»™n bÃªn dÆ°á»›i */
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 15px 10px; /* ThÃªm padding trÃªn vÃ  dÆ°á»›i Ä‘á»ƒ nÃºt cÃ¡ch Ä‘á»u */
Â  Â  Â  Â  Â  Â  margin-top: 0; /* Loáº¡i bá» margin-top: auto; */
Â  Â  Â  Â  }
Â  Â  Â  Â  .settings-link {
Â  Â  Â  Â  Â  Â  background: linear-gradient(45deg, #9C27B0, #7B1FA2);
Â  Â  Â  Â  Â  Â  padding: 15px 30px;
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  width: auto;
Â  Â  Â  Â  Â  Â  display: inline-block;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  color: white; 
Â  Â  Â  Â  Â  Â  border: none; 
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .settings-link:hover {
Â  Â  Â  Â  Â  Â  Â transform: translateY(-2px);
Â  Â  Â  Â  Â  Â  Â box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â Â 
Â  Â  <div style="width: 100%; display: flex; flex-direction: column; align-items: center;">
Â  Â  Â  Â  <h1>Chá»n á»¨ng Dá»¥ng</h1>
Â  Â  Â  Â  <div class="main-container">
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <a href="tools/may-ho-tro-giong-noi/may-voice.html" class="app-link voice-link">
Â  Â  Â  Â  Â  Â  Â  Â  ğŸ’¬ MÃ¡y Há»— Trá»£ Giá»ng NÃ³i
Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <a href="choi-game/menu-game.html" class="app-link game-link">
Â  Â  Â  Â  Â  Â  Â  Â  ğŸ® ChÆ¡i GameÂ  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <a href="tv/tv.html" class="app-link movie-link">
Â  Â  Â  Â  Â  Â  Â  Â  ğŸ¬ TV Online
Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  </div>
Â  Â  </div>

<div class="settings-area">
Â  Â  <button class="btn install-btn large-control-btn settings-link" id="installButton">
Â  ğŸ“² CÃ i Ä‘áº·t app
</button>
</div>

<script>
Â  Â  let deferredPrompt = null;
Â  Â  const installButton = document.getElementById('installButton');

Â  Â  // HÃ m kiá»ƒm tra cháº¿ Ä‘á»™ standalone (Ä‘Ã£ cÃ i Ä‘áº·t)
Â  Â  function isRunningStandalone() {
Â  Â  Â  Â  return window.matchMedia('(display-mode: standalone)').matches;
Â  Â  }

Â  Â  // HÃ m quyáº¿t Ä‘á»‹nh hiá»ƒn thá»‹/áº©n nÃºt
Â  Â  function updateInstallButtonVisibility() {
Â  Â  Â  Â  // NÃºt CHá»ˆ hiá»ƒn thá»‹ náº¿u:
Â  Â  Â  Â  // 1. CHÆ¯A cháº¡y á»Ÿ cháº¿ Ä‘á»™ standalone (chÆ°a cÃ i Ä‘áº·t)
Â  Â  Â  Â  // 2. CÃ“ prompt cÃ i Ä‘áº·t (trÃ¬nh duyá»‡t Ä‘Ã£ sáºµn sÃ ng)
Â  Â  Â  Â  if (!isRunningStandalone() && deferredPrompt) {Â 
Â  Â  Â  Â  Â  Â  installButton.style.display = 'inline-block';
Â  Â  Â  Â  Â  Â  console.log('PWA available. Install button shown.'); // << HIá»†N NÃšT
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  // NÃºt áº©n náº¿u Ä‘Ã£ cÃ i Ä‘áº·t HOáº¶C trÃ¬nh duyá»‡t chÆ°a sáºµn sÃ ng
Â  Â  Â  Â  Â  Â  installButton.style.display = 'none';
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function installApp() {
Â  Â  Â  Â  installButton.removeEventListener('click', installApp);

Â  Â  Â  Â  if (deferredPrompt) {
Â  Â  Â  Â  Â  Â  deferredPrompt.prompt();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  deferredPrompt.userChoice.then((choiceResult) => {
Â  Â  Â  Â  Â  Â  Â  Â  console.log('User choice:', choiceResult.outcome);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // XÃ³a prompt sau khi Ä‘Ã£ sá»­ dá»¥ng
Â  Â  Â  Â  Â  Â  Â  Â  deferredPrompt = null;
Â  Â  Â  Â  Â  Â  Â  Â  // Gá»i láº¡i hÃ m Ä‘á»ƒ áº©n nÃºt ngay sau khi há»™p thoáº¡i Ä‘Ã³ng (biáº¿n máº¥t sau khi tÆ°Æ¡ng tÃ¡c)
Â  Â  Â  Â  Â  Â  Â  Â  updateInstallButtonVisibility();Â 
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â  // 1. Sá»° KIá»†N HIá»‚N THá»Š NÃšT: TrÃ¬nh duyá»‡t bÃ¡o hiá»‡u Ä‘Ã£ sáºµn sÃ ng cÃ i Ä‘áº·t
Â  Â  window.addEventListener('beforeinstallprompt', (e) => {
Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â Â 
Â  Â  Â  Â  deferredPrompt = e;
Â  Â  Â  Â  updateInstallButtonVisibility(); // << HIá»†N NÃšT
Â  Â  Â  Â Â 
Â  Â  Â  Â  if (installButton.style.display !== 'none') {
Â  Â  Â  Â  Â  Â  installButton.addEventListener('click', installApp, { once: true });
Â  Â  Â  Â  }
Â  Â  });

Â  Â  // 2. Sá»° KIá»†N áº¨N NÃšT: á»¨ng dá»¥ng Ä‘Æ°á»£c cÃ i Ä‘áº·t thÃ nh cÃ´ng
Â  Â  window.addEventListener('appinstalled', () => {
Â  Â  Â  Â  deferredPrompt = null;
Â  Â  Â  Â  updateInstallButtonVisibility(); // << áº¨N NÃšT
Â  Â  Â  Â  console.log('App successfully installed.');
Â  Â  });
Â  Â Â 
Â  Â  // Khá»Ÿi táº¡o: áº¨n nÃºt ngay khi táº£i trang náº¿u Ä‘Ã£ cÃ i Ä‘áº·t trÆ°á»›c Ä‘Ã³
Â  Â  updateInstallButtonVisibility();Â 

Â  Â  Â  Â  if ('serviceWorker' in navigator) {
Â  navigator.serviceWorker.register('/service-worker.js')
Â  Â  .then(reg => console.log('SW registered:', reg.scope))
Â  Â  .catch(err => console.error('SW failed:', err));
}
Â  Â Â 
</script>

</body>
</html>
